@page "/multi-player"
@using TicTacToe.Data.Game;
@using TicTacToe.Data.Game.Managers;
@using TicTacToe.Data.Enums;
@inherits MultiPlayerComponent;
@inject NavigationManager navigationManager


<h3>MultiPlayer</h3>

<GameBoard GameManager="@GameManager" OnTileClicked="@HandleTileClick"></GameBoard>
@code{

    protected override async void OnInitialized()
    {
        contextBuilder = new GameContext.Builder(GameMode.MP);
        GameManager = new GameManager(contextBuilder.Build());
        string hubUrl = navigationManager.BaseUri.TrimEnd('/') + MultiPlayerHub.HubUrl;
        await ConnectPlayer();
    }
}